{
  "info": {
    "name": "SmartPark API",
    "description": "Complete API collection for SmartPark Intelligent Parking System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          }
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Signup",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('token', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"demo@smartpark.com\",\n  \"password\": \"demo123\",\n  \"fullName\": \"Demo User\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/signup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "signup"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('token', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"demo@smartpark.com\",\n  \"password\": \"demo123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "Spots",
      "item": [
        {
          "name": "Get All Spots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/spots",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots"]
            }
          }
        },
        {
          "name": "Get Available Spots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/spots?available=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots"],
              "query": [
                {
                  "key": "available",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Get Spots by Zone",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/spots?zone=downtown",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots"],
              "query": [
                {
                  "key": "zone",
                  "value": "downtown"
                }
              ]
            }
          }
        },
        {
          "name": "Get Spot by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/spots/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots", "1"]
            }
          }
        },
        {
          "name": "Get Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/spots/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots", "statistics"]
            }
          }
        },
        {
          "name": "Update Sensor (Simulator)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"spotId\": 1,\n  \"isOccupied\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/spots/sensor-update",
              "host": ["{{baseUrl}}"],
              "path": ["api", "spots", "sensor-update"]
            }
          }
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Predict Availability",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/predict?spotId=1&horizon=30",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "predict"],
              "query": [
                {
                  "key": "spotId",
                  "value": "1"
                },
                {
                  "key": "horizon",
                  "value": "30"
                }
              ]
            }
          }
        },
        {
          "name": "Get Best Spots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/predict/best?limit=5&horizon=15",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "predict", "best"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                },
                {
                  "key": "horizon",
                  "value": "15"
                }
              ]
            }
          }
        },
        {
          "name": "Get Spot Pricing",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/pricing?spotId=1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "pricing"],
              "query": [
                {
                  "key": "spotId",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Calculate Reservation Price",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/pricing/calculate?spotId=1&startTime=2025-11-05T14:00:00Z&endTime=2025-11-05T16:00:00Z",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "pricing", "calculate"],
              "query": [
                {
                  "key": "spotId",
                  "value": "1"
                },
                {
                  "key": "startTime",
                  "value": "2025-11-05T14:00:00Z"
                },
                {
                  "key": "endTime",
                  "value": "2025-11-05T16:00:00Z"
                }
              ]
            }
          }
        },
        {
          "name": "Get Pricing Trends",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/analytics/pricing/1/trends?hours=24",
              "host": ["{{baseUrl}}"],
              "path": ["api", "analytics", "pricing", "1", "trends"],
              "query": [
                {
                  "key": "hours",
                  "value": "24"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "Create Reservation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"spotId\": 1,\n  \"startTime\": \"2025-11-05T14:00:00Z\",\n  \"endTime\": \"2025-11-05T16:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/reservations",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations"]
            }
          }
        },
        {
          "name": "Get My Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reservations",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations"]
            }
          }
        },
        {
          "name": "Get Active Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reservations?status=active",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            }
          }
        },
        {
          "name": "Get Reservation by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reservations/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations", "1"]
            }
          }
        },
        {
          "name": "Confirm Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethod\": \"credit_card\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/reservations/1/payment",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations", "1", "payment"]
            }
          }
        },
        {
          "name": "Cancel Reservation",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reservations/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations", "1"]
            }
          }
        },
        {
          "name": "Get All Reservations (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/reservations/all",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reservations", "all"]
            }
          }
        }
      ]
    }
  ]
}
